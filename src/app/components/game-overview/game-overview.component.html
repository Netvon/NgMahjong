<div>
	<nav class="pagination is-centered" *ngIf="pagination">
		<a class="pagination-previous"
			*ngIf="pagination.hasPrevious"
			[routerLink]="['/games', { page: pagination.previous }]">Previous</a>

		<a class="pagination-next"
			*ngIf="pagination.hasNext"
			[routerLink]="['/games', { page: pagination.next }]">Next page</a>

		<ul class="pagination-list">
			<li><a class="pagination-link">{{ pagination.pages }}</a></li>
		</ul>
	</nav>

	<div *ngFor="let game of games | async" class="box game">
		<h4 class="title is-4">
			<span [title]="game.createdBy._id">{{ game.createdBy.name }}</span>
			<span class="tag">{{ game.state | titlecase }}</span>
		</h4>

		<details>
			<div class="content">
				<pre>{{ game | json }}</pre>
			</div>
		</details>

		<!--<p>{{ game.createdOn | date }} {{ game.createdOn | date:'jm' }}</p>-->

		<div class="level game-section main">
			<div class="level-item has-text-centered">
				<div>
					<p class="heading">Type</p>
					<p class="title">{{ game.gameTemplate.id }}</p>
				</div>
			</div>
			<div class="level-item has-text-centered">
				<div>
					<p class="heading">Current Players</p>
					<p class="title">{{ game.players.length }} / {{ game.maxPlayers }}</p>
				</div>
			</div>
			<div class="level-item has-text-centered">
				<div>
					<p class="heading">Min Players</p>
					<p class="title">{{ game.minPlayers }}</p>
				</div>
			</div>
			<div class="level-right" *ngIf="!game.startedOn">
				<div class="block">
					<a class="button is-large is-white">Join</a>
				</div>
			</div>
		</div>

		<div class="level game-section detail">
			<div class="level-left">
				<div class="level-item">
					<div>
						<p class="heading">Created On</p>
						<p class="title is-6">{{ game.createdOn | date }} {{ game.createdOn | date:'jm' }}</p>
					</div>
				</div>
				<div class="level-item" *ngIf="game.startedOn">
					<div>
						<p class="heading">Started On</p>
						<p class="title is-6">{{ game.startedOn | date }} {{ game.startedOn | date:'jm' }}</p>
					</div>
				</div>
				<div class="level-item" *ngIf="game.endedOn">
					<div>
						<p class="heading">Ended On</p>
						<p class="title is-6">{{ game.startedOn | date }} {{ game.startedOn | date:'jm' }}</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<nav class="pagination is-centered" *ngIf="pagination">
		<a class="pagination-previous"
			*ngIf="pagination.hasPrevious"
			[routerLink]="['/games', { page: pagination.previous }]">Previous</a>

		<a class="pagination-next"
			*ngIf="pagination.hasNext"
			[routerLink]="['/games', { page: pagination.next }]">Next page</a>

		<ul class="pagination-list">
			<!--<li><a class="pagination-link">1</a></li>
			<li *ngIf="pagination.pages > 5"><span class="pagination-ellipsis">&hellip;</span></li>
			<li><a class="pagination-link">45</a></li>
			<li><a class="pagination-link is-current">{{ pagination.page }}</a></li>
			<li><a class="pagination-link">47</a></li>
			<li *ngIf="pagination.pages > 5"><span class="pagination-ellipsis">&hellip;</span></li>-->
			<li><a class="pagination-link">{{ pagination.pages }}</a></li>
		</ul>
	</nav>
</div>
